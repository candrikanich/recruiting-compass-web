import { defineNuxtConfig } from 'nuxt'

export default defineNuxtConfig({
  devtools: { enabled: false },
  modules: ['@pinia/nuxt'],

  css: [],

  alias: {
    '~': '/',
  },

  runtimeConfig: {
    public: {
      supabaseUrl: process.env.NUXT_PUBLIC_SUPABASE_URL || '',
      supabaseAnonKey: process.env.NUXT_PUBLIC_SUPABASE_ANON_KEY || '',
    },
  },

  typescript: {
    strict: true,
    shim: false,
  },

  nitro: {
    prerender: {
      crawlLinks: false,
    },
    commonjs: {
      esmExternals: false,
    },
  },

  experimental: {
    shallowRef: false,
  },
})
